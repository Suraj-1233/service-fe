<h2 mat-dialog-title>Orders for {{ data.user.name }}</h2>

<mat-dialog-content>
  <div *ngIf="data.orders && data.orders.length > 0; else noOrders">
    <table mat-table [dataSource]="data.orders" class="mat-elevation-z2 orders-table">

      <!-- Order ID -->
      <ng-container matColumnDef="id">
        <th mat-header-cell *matHeaderCellDef>Order ID</th>
        <td mat-cell *matCellDef="let o">{{ o.id }}</td>
      </ng-container>

      <!-- Status -->
      <ng-container matColumnDef="status">
        <th mat-header-cell *matHeaderCellDef>Status</th>
        <td mat-cell *matCellDef="let o">{{ o.status }}</td>
      </ng-container>

      <!-- Total -->
      <ng-container matColumnDef="total">
        <th mat-header-cell *matHeaderCellDef>Total</th>
  <td mat-cell *matCellDef="let o">{{ o.totalAmount | currency:'INR':'symbol' }}</td>
      </ng-container>

      <!-- Date -->
      <ng-container matColumnDef="date">
        <th mat-header-cell *matHeaderCellDef>Date</th>
        <td mat-cell *matCellDef="let o">{{ o.createdAt | date:'medium' }}</td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="['id', 'status', 'total', 'date']"></tr>
      <tr mat-row *matRowDef="let row; columns: ['id', 'status', 'total', 'date']"></tr>
    </table>
  </div>

  <ng-template #noOrders>
    <p>No orders found for this user.</p>
  </ng-template>
</mat-dialog-content>
